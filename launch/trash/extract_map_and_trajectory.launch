<!-- thanks to https://qiita.com/idev_jp/items/579933851d3cf1dfc404 -->

<launch>
  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find raspimouse_cartographer_teach_and_replay)/config/relocalization.rviz"/>

  <node pkg="map_server" type="map_saver" name="map_saver" args="-f /tmp/map" />
  <node pkg="raspimouse_cartographer_teach_and_replay" type="trajectory_extractor" name="trajectory_extractor" output="screen" />

  <node name="cartographer_occupancy_grid_node" pkg="cartographer_ros"
      type="cartographer_occupancy_grid_node" args="-resolution 0.05" />

  <node name="cartographer_node" pkg="cartographer_ros"
      type="cartographer_node" args="
          -configuration_directory $(find raspimouse_cartographer)/config
          -configuration_basename backpack_2d.lua
          -load_state_filename $(find raspimouse_cartographer_teach_and_replay)/bag_and_maps/20190625_square.pbstream"
      output="screen">
  </node>
</launch>
